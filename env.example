DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=postgres
DB_PORT=5432
DB_DATABASE=hyphen_api
MQTT_IOT_ENDPOINT=*****.iot.us-east-1.amazonaws.com
MQTT_IOT_PORT=8883
SYSTEM_IDENTITY_NAME=CommandCenter
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
MQTT_SUBSCRIPTIONS="Hy/#"
JWT_CLIENT_SECRET=MySuperSecret
ENV_SECRET_KEY=AnotherSecretForSecrets
REDIS_CONFIG_URL=redis://localhost:6379/1
HOST_BUILDS_PATH=
API_SERVICE_ROUTES=/api/v2/
API_SERVICE_ROUTES=1612
# ------------------------------------------------------------
# Redis (Leader Election, Queues)
# ------------------------------------------------------------

REDIS_CONFIG_URL=redis://localhost:6379/1

# ============================================================
# Hyphen RTSP Tunnel – Environment Configuration
# ============================================================

# ------------------------------------------------------------
# WebSocket Gateway
# ------------------------------------------------------------

# Port the ESP32 devices connect to (WSS / WS)
WS_PORT=7443

# Enable TLS for WebSocket server
# 0 = plain WS (dev only)
# 1 = WSS (recommended for production)
WS_TLS=0

# TLS certificate paths (required if WS_TLS=1)
TLS_CERT=./certs/server-cert.pem
TLS_KEY=./certs/server-key.pem


# ------------------------------------------------------------
# Local RTSP Proxy (ffmpeg connects here)
# ------------------------------------------------------------

# Local TCP port used by ffmpeg → gateway → ESP32 tunnel
PROXY_PORT=8554

# RTSP path on the camera (ESP32-side camera)
RTSP_PATH=/stream2


# ------------------------------------------------------------
# Camera Credentials (used by ffmpeg)
# ------------------------------------------------------------

# Camera username
CAM_USER=admin

# Camera password (REQUIRED)
CAM_PASS=


# ------------------------------------------------------------
# Capture Behavior
# ------------------------------------------------------------

# Automatically start a snapshot after HELLO / AUTH
# 1 = enabled
# 0 = manual trigger only (future use)
AUTO_CAPTURE=1

# Require AUTH handshake before allowing capture
# 0 = auth optional (dev mode)
# 1 = auth required (production)
REQUIRE_AUTH=0

# Max time (ms) to wait for HELLO from device before closing
HELLO_WAIT_MS=2000

# Max time (ms) allowed for ffmpeg capture before killing
CAPTURE_TIMEOUT_MS=45000


# ------------------------------------------------------------
# Storage
# ------------------------------------------------------------

# Storage backend
# local = keep files in temp directory
# s3    = upload to S3 via StorageAdapter
STORAGE_MODE=local

# Local storage directory (only used if STORAGE_MODE=local)
OUT_DIR=/tmp/hyphen-rtsp/snapshots


# ------------------------------------------------------------
# AWS S3 (only used if STORAGE_MODE=s3)
# ------------------------------------------------------------

AWS_REGION=ap-southeast-1
S3_BUCKET=
S3_PREFIX=hyphen/rtsp


# ------------------------------------------------------------
# AWS SQS Notifier (optional)
# ------------------------------------------------------------

# If set, snapshot events will be pushed to SQS
SQS_QUEUE_URL=

# Uses AWS_REGION and default AWS credentials
# (env vars, instance profile, or IAM role)


